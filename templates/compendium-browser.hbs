<div class="swrifts-compendium-browser">

  <!-- Top Navigation Tabs -->
  <nav class="browser-tabs" role="tablist" aria-label="Compendium Tabs">
    {{#each typeOptions}}
      <button 
        class="type-tab {{#ifEquals ../activeTab value}}active{{/ifEquals}}" 
        data-type="{{value}}"
        role="tab"
        aria-selected="{{#ifEquals ../activeTab value}}true{{else}}false{{/ifEquals}}"
        tabindex="{{#ifEquals ../activeTab value}}0{{else}}-1{{/ifEquals}}">
        {{label}}
      </button>
    {{/each}}
  </nav>

  <!-- Main Content Area (Sidebar + Results) -->
  <div class="browser-body">

    <!-- Sidebar: Search, Sort, Filters -->
    <aside class="browser-sidebar" role="complementary" aria-label="Compendium Filters">

      <div class="search-group">
        <label for="search" class="text-label">Search</label>
        <input 
          type="text" 
          id="search"
          class="browser-search" 
          placeholder="Search by name or description" 
          aria-label="Search by name or description"
          value="{{searchTerm}}" />
      </div>

      <div class="sort-group">
        <label for="sort" class="text-label">Sort By</label>
        <select id="sort" class="browser-sort" aria-label="Sort entries">
          <option value="name" {{#ifEquals sortField "name"}}selected{{/ifEquals}}>Name</option>
          <option value="source" {{#ifEquals sortField "source"}}selected{{/ifEquals}}>Source</option>
          <!-- Add more sort fields as needed -->
        </select>

        <button 
          class="sort-direction" 
          title="Toggle Sort Direction"
          aria-pressed="{{#ifEquals sortDirection "asc"}}true{{else}}false{{/ifEquals}}">
          {{#ifEquals sortDirection "asc"}}⬆️{{else}}⬇️{{/ifEquals}}
        </button>
      </div>

      {{#if filters.sources.length}}
        <div class="filter-group" role="group" aria-label="Source Filters">
          <label class="text-label">Sources</label>
          {{#each filters.sources}}
            <label>
              <input type="checkbox" name="source-filter" value="{{this}}" {{#if (includes ../_filters.sources this)}}checked{{/if}} /> {{this}}
            </label>
          {{/each}}
        </div>
      {{/if}}

    </aside>

    <!-- Content Area: Entries Table -->
    <section class="browser-results" role="region" aria-live="polite" aria-label="Compendium Results">

      <!-- Scrollable container for entries -->
      <div class="compendium-results-wrapper">
        <div class="compendium-results">
          {{> "compendium-results" entries=entries }}
        </div>
      </div>

    </section>

  </div>
</div>